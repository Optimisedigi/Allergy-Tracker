## The Brick System The brick chart is the heart of AllergyTrack's visual tracking system. Each trial creates a brick that tells the story of your child's food journey. ### Three Brick Types #### 🟢 **Green Brick (Safe)** - **When created**: Trial completed successfully with no reaction - **Meaning**: This trial passed safely - **Visual**: Green gradient background #### 🟠 **Amber/Orange Brick (Warning)** - **When created**: First reaction occurs AFTER food previously passed safely (1+ green bricks exist) - **Meaning**: Caution - this food was safe before but now caused a reaction - **Visual**: Amber/orange gradient background - **Why it matters**: Indicates tolerance may be fluctuating; proceed with medical guidance #### 🔴 **Red Brick (Reaction)** - **When created**: - First trial of a food results in a reaction (no green bricks yet) - Second+ reaction occurs after a warning brick - **Meaning**: Confirmed allergic reaction - **Visual**: Red gradient background ### Brick Logic Examples **Example 1: Introducing Peanut Butter** - Trial 1: Pass → 🟢 Green brick - Trial 2: Pass → 🟢 Green brick - Trial 3: Reaction → 🟠 Amber brick (WARNING: was safe, now reacted!) - Trial 4: Reaction → 🔴 Red brick **Example 2: Introducing Egg** - Trial 1: Reaction → 🔴 Red brick (immediate reaction, no safe history) - Trial 2: Reaction → 🔴 Red brick **Example 3: Building Confidence with Carrot** - Trial 1: Pass → 🟢 Green brick - Trial 2: Pass → 🟢 Green brick - Trial 3: Pass → 🟢 Green brick - Status: "Safe food" ✅ ### Why the Warning System Matters The amber/orange warning brick is crucial because: 1. **Tolerance can change**: A food that was safe can later cause reactions 2. **Important medical signal**: Helps doctors identify developing sensitivities 3. **Prevents false confidence**: Even "safe" foods need continued monitoring 4. **Data preservation**: Keeps full history instead of overwriting past successes --- ## Status Logic AllergyTrack uses a sophisticated 9-state status system that evaluates cumulative passes and reactions: ### Status Progression | Passes | Reactions | Status | Icon | Meaning | |--------|-----------|--------|------|---------| | 0 | 0 | Not tested | ⚪ | No trials yet | | 1 | 0 | Passed once | ✓ | First successful trial | | 2 | 0 | Building confidence | ↗️ | Making progress | | 3+ | 0 | Safe food | ✅ | High confidence - safe | | 1+ | 1 | Caution | ⚠️ | Mixed results - be careful | | 0 | 1 | Possible allergy | 🔶 | First trial reacted | | 0 | 2 | Likely allergy | ⚠️ | Two reactions, no passes | | 0 | 3+ | Confirmed allergy | 🚫 | Strong evidence of allergy | | Any | 2+ | Likely allergy | ⚠️ | Multiple reactions detected | ### Priority-Based Evaluation The status logic follows this priority order: 1. **Check reaction count first**: 3+ reactions = "Confirmed allergy" 2. **Check for mixed results**: Reactions + Passes = "Caution" or "Likely allergy" 3. **Check pass count**: 3+ passes = "Safe food", 2 passes = "Building confidence", 1 pass = "Passed once" 4. **Default**: No trials = "Not tested" ### Visual Representation **Home Screen**: Each food card shows: - Status text with appropriate icon - Brick chart showing full history - Pass/Reaction counter (e.g., "2 passes, 1 reaction")